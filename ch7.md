1. 주소 바인딩
2. 메모리 관리와 관련된 용어
3. 물리적 메모리의 할당 방식
4. 페이징 기법
5. 세그먼테이션
6. 페이지드 세그먼테이션

### 프로세스의 주소 바인딩 방식

---

- 프로그램이 메모리에 올라가면 독자적인 주소공간을 가진 프로세스가 된다. 프로세스의 논리적 주소를 메모리의 물리적 메모리 주소로 연결시켜주는 작업을 주소바인딩이라고 한다
- 주소바인딩 방식
    - 컴파일 타임 바인딩 - 프로그램이 절대주소로 적재된다. 현대적인 시분할 컴퓨팅 환경에서 잘 안씀
    - 로드타임 바인딩 - loader에 의해 메모리의 물리주소와 프로세스만의 상대주소가 바인딩됨
    - **실행시간 바인딩** - **MMU**(memory management unit)에 의해 물리주소와 상대주소가 바인딩된다.
        - 논리주소 + 기준레지스터 값(재배치 레지스터) = 물리주소의 시작점.
        - 프로세스 물리주소의 범위는 시작점으로부터 한계 레지스터가 더해진 값을 넘을 수 없음.

### 프로세스가 올라가는 메모리 관리 관련 용어

---

- 동적로딩 - 메모리 효율을 위해 프로그램의 일부분이 필요할 때만 메모리에 적재해서 사용한다
- 동적연결 - 컴파일을 통해 생성된 목적 파일과 라이브러리 사이의 연결을 프로그램 실행시점 까지 지연시키는 기법. 실행 파일의 라이브러리 호출 부분에 라이브러리 위치를 찾기 위한 stub 코드를 둔다.
- 중첩 - 프로세스의 주소공간을 분할해서 실제 필요한 부분만 메모리에 적재한다. 메모리 용량보다 큰 프로세스를 실행하기 위해 프로세스 일부를 분할해서 올린다.
- 스와핑 - 메모리에 올라온 프로세스 주소공간 전체를 디스크의 스왑 영역에 일시적으로 내려놓는 기법
    - 프로세스의 주소공간을 디스크에서 메모리로 올린다. swap in, 메모리에서 디스크로 내린다 swap out
    - 메모리에 너무 많은 프로그램이 올라와서 성능이 떨어지려고 할 때, 몇몇 프로그램을 스왑아웃 해서 나머지를 처리하고 난 뒤 다시 swap in 한다.

### 프로세스에 대한 물리적 메모리의 할당 방식 2가지(사용자 프로세스의 메모리 관리 방식)

---

- **연속할당 방식 - 물리적 메모리 한 곳에 연속적으로 적재한다.고정된 크기**의 분할로 나누는지, 아닌지에 따라
    - 고정분할 - 정해진 갯수대로 파티션을 나누고 각 분할에 하나의 프로세스를 적재한다.
        - 외부조각, 내부조각 발생
    - 가변분할 - 분할의 크기와 갯수가 동적으로 바뀐다.
        - → 동적 메모리 할당 문제. 어떤 식으로 가용공간을 사용할까? → first fit, bestfit
        - 디스크 조각모음
- **불연속할당 방식 - 프로세스를 메모리 여러 영역에 분산저장한다.**
    - 페이징기법 - 동일한 크기의 페이지 단위(리눅스 4kb)로 나눠서 물리메모리의 서로 다른 위치에 저장하는 방식. 물리메모리도 페이지와 같은 크기의 프레임으로 나눠놓고 가용공간을 사용한다. 프로세스의 특정 페이지주소를 물리적 메모리의 프레임주소와 맵핑하는 **페이지 테이블**이 있다.
        - 페이지 테이블을 효율적으로 사용하기 위해 TLB 캐시를 사용한다.
        - 논리주소의 페이지 단위와 물리주소의 프레임단위가 일치하기 떄문에 외부조각 문제가 발생하지 않는다. 프로그램의 크기가 항상 페이지 크기의 배수가 되지 않기 떄문에 마지막 페이지에서는 내부조각이 발생할 수 있다
    - 세그멘테이션 기법 - 의미단위의 세그먼트로 나눠서 물리적 메모리에 올린다. 크기는 서로 다를 수 있다.
        - 공유,보안적으로는 효율적이다. (세그먼트 단위로 접근제어를 할 수 있어서 페이징 단위로 구분하는 것 보다 편리). 세그먼트 단위가 균일하지 않아서 외부조각이 발생할 수 있다.
    - 페이지드 세그멘테이션 기법 - 하나의 세그먼트 크기를 페이지 크기의 배수가 되도록해서 두 장점을 가져간다. (외부조각 해결 + 세그먼트 단위의 접근제어)